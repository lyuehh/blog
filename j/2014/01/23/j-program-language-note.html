<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>J语言学习笔记</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">
         <link type="text/css" rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.0.0/css/bootstrap-theme.min.css"/>
         <link type="text/css" rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.0.0/css/bootstrap.min.css"/>
    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/index.html">blog</a></h1>
              <a class="extra" href="/about.html">about</a>
            </div>

            <h2>J语言学习笔记</h2>
<p class="meta">2014-01-23 18:00</p>

<div id="post">
<h2>1 basic</h2>

<h3>基本运算</h3>

<ul>
<li><code>*:</code> 平方 *: 4 -> 16</li>
<li><code>|</code>  求余 2 | 4 -> 0</li>
<li>3<em>2+1 从右往左算, 3</em>(2+1) -> 9</li>
</ul>


<h3>赋值</h3>

<ul>
<li><code>x =: 3</code></li>
<li>赋值语句也是表达式</li>
<li>区分大小写</li>
<li>在右侧只接收1个参数的叫做monadic, 简称monad, 比如 <code>*:</code></li>
<li>在两侧接收参数的叫做dyadic, 简称dyad</li>
<li>有很多函数2者都是, 比如-作为负号或减号, %作为除号或者倒数</li>
</ul>


<h3>更多运算</h3>

<ul>
<li>/ join <code>+ / 2 3 4</code> -> 9</li>
<li>true是1, false是0</li>
<li>数组长度 # 作为monad</li>
<li>过滤数组 # 作为 dyad</li>
<li>内置函数一般是1个或者2个字母, 2个字母的话第二个字母一般是:或者.</li>
<li>而且和1个字母的那个函数相关</li>
<li>monad > 大于</li>
<li>monad >. 向上取整 <code>&gt;. 1.7</code> -> 2</li>
<li>dyad >.  选择2个参数中大的一个 <code>2 &gt;. 3</code> -> 3, <code>&gt;. / 1 6 5</code> -> 6</li>
<li>monad >: 给参数+1 <code>&gt;: 1</code> -> 2</li>
<li>dyad >: 大于或等于 <code>2 &gt;: 2 3 4</code> -> 1 0 0</li>
</ul>


<pre><code>     x =: 5 4 1 9
     x &gt; 2
1 1 0 1
     * / x &gt; 2
0
     + / x &gt; 2
3
     # x
4

     y =: 6 7 8 9 10
     1 1 0 1 0 # y
6 7 9

   y
6 7 8 9 10
   y &gt; 7
0 0 1 1 1
(y&gt;7) # y
8 9 10 
</code></pre>

<h2>2 lists和table</h2>

<ul>
<li>表格语法 <code>table =: 2 3   $   5 6 7  8 9 10</code></li>
<li>表格可以直接进行函数操作, +, * 等..</li>
<li>monad $ 计算table的维度</li>
<li>table 2 dimensions, list 2, single number 0 25页</li>
<li>table 有2个dimensions, row和column</li>
<li>array 用来统一称呼有一些dimension的数据结构</li>
<li>$ 左边的数字就是这个数据结构的dimensions</li>
<li>monad # 计算一个list的length</li>
<li>monad $ 计算一个array的dimension</li>
<li>rank 就是 dimension-count,</li>
<li>shape 就是 list-of-dimension</li>
<li>字符串由单引号包裹, 2个单引号表示转义 <code>'123'</code>, <code>'12''3'</code>, <code># ''</code> -> 0</li>
</ul>


<h2>array functions</h2>

<ul>
<li>dyad , append, 合并 <code>a =: 1 2 b =: 3 4 a,b</code> -> 1 2 3 4</li>
</ul>


<h2>select item</h2>

<ul>
<li>dyad { from, select <code>Y =: 'abcd' 0 { Y</code> -> a <code>0 1 2 { Y</code> -> abc</li>
<li>monad i. 生成一个range <code>i. 4</code> -> 0 1 2 3 4, <code>i. 2 3</code> -> <code>0 1 2 \n 3 4 5</code></li>
<li>dyad i. indexOf, 查询 <code>’abcd' i. 'a'</code> -> 0, 如果没找到, 则结果比最大的可能只大1 <code>'abcd' i. t</code> -> 4</li>
<li>dyad -: match, 判断2个array是否相同 <code>x =: 'abc' x -: x</code> -> 1 , <code>'' -: 0 $ 0</code> -> 1</li>
<li>dyad = equal, 判断2个参数中的元素是否相等 <code>y =: 1 2 3 4 , y = y</code> -> 1 1 1 1 , <code>y = 2</code> -> 0 1 0 0</li>
<li>= 号的参数必须有相同的shape, 或者兼容的shape</li>
<li>dyad ; link 将两个参数合并成一个list</li>
<li>, 的参数类型必须相同, ; 的参数可以不同</li>
<li>dyad ": format, 将数字转化为字符 <code>n =: 42 s =: ": n # s</code> -> 2, <code>ans is’ , s</code> -> ans is 42</li>
<li>monad &lt; box, create a box</li>
<li>monad > box, open a box,  scalars 标量</li>
</ul>


<h2>3 define function</h2>

<ul>
<li>rename, <code>square =: *: square 1 2 3</code> -> 1 4 9</li>
<li>insert, <code>sum =: + / sum 1 2 3</code> -> 6</li>
<li>ordinary functions, * +  verbs</li>
<li>compute functions from functions , / operators</li>
<li>operator take arguments called adverbs , arguments at the left side</li>
<li><ul>
<li>/ -> adverb / is applied to the verb + , 副词修饰动词</li>
</ul>
</li>
<li>adverb dyad ,~ , change left and right arguments <code>1 ,~ 2</code> -> 2 1, <code>x f~ y</code> -> <code>y f x</code></li>
<li>bond, <code>double =: * &amp; 2</code>, <code>(f &amp; k) y means y f k</code>, <code>(k &amp; f) y means k f y</code></li>
<li>conjunction: it conjoins two arguments</li>
<li>functions in j: monadic verbs, dyadic verbs, adverbs , conjuctions</li>
<li>every expression has a value of some type, function or data</li>
<li>array called nouns, it’s not a verb, may have some dimensions</li>
<li>composition of function: <code>sum square 1 2 3</code> -> 14</li>
<li>dyad @: <code>sumsq =: sum @: square</code> <code>(f @: g) y</code> means f (g y)</li>
</ul>


<h2>更好记的</h2>

<ul>
<li>square =: *:</li>
<li>ceiling =: >.</li>
<li>max     =: >.</li>
<li>sum =: + /</li>
<li>mod =: | ~</li>
<li>sumsq =: sum @: square</li>
</ul>


<p>未完待续...</p>

</div>


            <div class="footer">
              <div class="contact">
                <div>lyuehh</div>
                <div>programmer</div>
                <div>lyuehh^gmail.com</div>
              </div>
              <div class="contact">
                <a href="http://github.com/lyuehh/">github.com/lyuehh</a><br />
                <a href="http://twitter.com/lyuehh/">twitter.com/lyuehh</a><br />
                <a href="http://weibo.com/lyused/">weibo.com/lyused</a><br />
              </div>
            </div>
          </div>

        </div> <!-- /container -->

    </body>
</html>
